# Using Trusty:
# https://stackoverflow.com/a/21133609/5951529
# sudo: required
# dist: trusty
# Remove trusty
# https://blog.travis-ci.com/2017-07-11-trusty-as-default-linux-is-coming
language: python

python: 3.6

env:
  - TEST_SUITE=test
  - TEST_SUITE=build

# Sections:
# https://stackoverflow.com/a/34384262/5951529
before_install:
  - pip install --upgrade pip
  - npm install --global npm

install:
  - pip install pipenv
  - pipenv install --dev
  - npm install -g grunt-cli
  - npm install

script:
  - "grunt $TEST_SUITE"

# matrix:
#   include:
#     -
#       python: 3.6
#       before_script:
#         - pip install pipenv
#         - pipenv install --dev
#       script:
#         - pelican content -s pelicanconf.py

#     - language: node_js
#       node_js: node
#       # grunt-cli globally:
#       # https://stackoverflow.com/a/21133609/5951529
#       before_script:
#         - npm install -g grunt-cli
#       install:
#         - npm install
#       script:
#         - grunt test
